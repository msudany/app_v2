{% extends "layout.html" %} {% block title %}Home{% endblock %} {% block content %}
        <section>
            <h2>All Books</h2>
            <div class="book-grid">
                {% for book in books %}
                <div class="book-tile">
                    <img src="{{ book.cover_image }}" alt="{{ book.title }} Cover">
                    <h3><a href="{{ url_for('book_details', book_id=book.id) }}">{{ book.title }}</a></h3>
                    <p>{{ book.author }}</p>
                    <p>
                        {% for category in book.categories %}
                            {{ category.name }}{% if not loop.last %}, {% endif %}
                        {% endfor %}
                    </p>
                </div>
                {% endfor %}
            </div>
        </section>

        {% if current_user.is_authenticated %}
        <section>
            <h2>Recommended for You</h2>
            {% if recommendations %}
                <ul>
                    {% for book in recommendations %}
                        <li>
                            <h3><a href="{{ url_for('book_details', book_id=book.id) }}">{{ book.title }}</a></h3>
                            <p>{{ book.author }}</p>
                            <p>{{ book.category.name }}</p>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No recommendations available. Start following categories or authors to see personalized suggestions!</p>
            {% endif %}
        </section>
        {% endif %}
{% endblock content %}
